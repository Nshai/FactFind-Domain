 
-----------------------------------------------------------------------------
-- Table: PolicyManagement.TLifeCycleTransition
--    Join: join tlifecyclestep s on s.LifeCycleStepId = TLifeCycleTransition.LifeCycleStepId join tlifecycle l on l.LifeCycleId = s.LifeCycleId
--   Where: WHERE l.IndigoClientId=466
-----------------------------------------------------------------------------
 
 
USE PolicyManagement
 
 
-- check if this script has already run
IF EXISTS (
   SELECT 1 FROM TExecutedDataScript 
   WHERE ScriptGuid = '94ECE56D-44B0-4C0E-855C-1398172A0C73'
     AND TenantId = 466
) RETURN 
 
SET NOCOUNT ON 
SET XACT_ABORT ON
 
DECLARE @starttrancount int
BEGIN TRY
    SELECT @starttrancount = @@TRANCOUNT
    IF @starttrancount = 0
    BEGIN TRANSACTION
 
        -- insert the records
        SET IDENTITY_INSERT TLifeCycleTransition ON; 
 
        INSERT INTO TLifeCycleTransition([LifeCycleTransitionId], [LifeCycleStepId], [ToLifeCycleStepId], [OrderNumber], [Type], [HideStep], [AddToCommissionsFg], [ConcurrencyId])
        SELECT 92227,46458,46459,2, NULL,0,NULL,1 UNION ALL 
        SELECT 92228,46458,46460,1, NULL,0,NULL,1 UNION ALL 
        SELECT 238459,46458,119406,3, NULL,0,NULL,1 UNION ALL 
        SELECT 92229,46460,46458,2, NULL,0,NULL,1 UNION ALL 
        SELECT 92230,46460,46459,1, NULL,0,NULL,1 UNION ALL 
        SELECT 238460,46460,119406,5, NULL,0,NULL,1 UNION ALL 
        SELECT 268648,119406,46458,6, NULL,0,NULL,1 UNION ALL 
        SELECT 268649,119406,46460,4, NULL,0,NULL,1 UNION ALL 
        SELECT 92231,46461,46462,2, NULL,0,NULL,1 UNION ALL 
        SELECT 92232,46461,46463,1, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92233,46461,46464,1, 'Non-Compliance',0,NULL,1 UNION ALL 
        SELECT 92234,46463,46461,2, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92235,46463,46464,1, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92236,46464,46463,3, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92237,46464,46461,4, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92238,46464,46465,2, NULL,0,NULL,1 UNION ALL 
        SELECT 92239,46464,46466,1, NULL,0,NULL,1 UNION ALL 
        SELECT 92240,46465,46464,1, NULL,0,NULL,1 UNION ALL 
        SELECT 92241,46466,46464,2, NULL,0,NULL,1 UNION ALL 
        SELECT 92242,46466,46461,3, NULL,0,NULL,1 UNION ALL 
        SELECT 92243,46466,46467,1, NULL,0,NULL,1 UNION ALL 
        SELECT 238461,46466,119407,5, NULL,0,NULL,1 UNION ALL 
        SELECT 92244,46467,46466,1, NULL,0,NULL,1 UNION ALL 
        SELECT 238462,46467,119407,7, NULL,0,NULL,1 UNION ALL 
        SELECT 268650,119407,46466,8, NULL,0,NULL,1 UNION ALL 
        SELECT 268651,119407,46467,6, NULL,0,NULL,1 UNION ALL 
        SELECT 92245,46468,46469,2, NULL,0,NULL,1 UNION ALL 
        SELECT 92246,46468,46470,1, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92247,46468,46471,1, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92248,46470,46468,2, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92249,46470,46471,1, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92250,46471,46470,2, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92251,46471,46468,4, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92252,46471,46472,3, NULL,0,NULL,1 UNION ALL 
        SELECT 92253,46471,46473,1, NULL,0,NULL,1 UNION ALL 
        SELECT 92254,46472,46471,1, NULL,0,NULL,1 UNION ALL 
        SELECT 92255,46472,46473,1, NULL,0,NULL,1 UNION ALL 
        SELECT 92256,46473,46471,2, NULL,0,NULL,1 UNION ALL 
        SELECT 92257,46473,46472,3, NULL,0,NULL,1 UNION ALL 
        SELECT 92258,46473,46474,1, NULL,0,NULL,1 UNION ALL 
        SELECT 92259,46474,46473,2, NULL,0,NULL,1 UNION ALL 
        SELECT 92260,46474,46468,3, NULL,0,NULL,1 UNION ALL 
        SELECT 92261,46474,46475,1, NULL,0,NULL,1 UNION ALL 
        SELECT 238463,46474,119408,5, NULL,0,NULL,1 UNION ALL 
        SELECT 92262,46475,46474,1, NULL,0,NULL,1 UNION ALL 
        SELECT 238464,46475,119408,7, NULL,0,NULL,1 UNION ALL 
        SELECT 268652,119408,46474,8, NULL,0,NULL,1 UNION ALL 
        SELECT 268653,119408,46475,6, NULL,0,NULL,1 UNION ALL 
        SELECT 92263,46476,46477,2, NULL,0,NULL,1 UNION ALL 
        SELECT 92264,46476,46478,3, NULL,0,NULL,1 UNION ALL 
        SELECT 92265,46476,46479,1, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92266,46476,46480,1, 'Non-Compliance',0,NULL,1 UNION ALL 
        SELECT 92267,46478,46476,1, NULL,0,NULL,1 UNION ALL 
        SELECT 92268,46479,46476,2, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92269,46479,46480,1, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92270,46480,46479,2, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92271,46480,46476,3, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92272,46480,46481,4, NULL,0,NULL,1 UNION ALL 
        SELECT 92273,46480,46482,1, NULL,0,NULL,1 UNION ALL 
        SELECT 92274,46481,46480,1, NULL,0,NULL,1 UNION ALL 
        SELECT 92275,46482,46480,2, NULL,0,NULL,1 UNION ALL 
        SELECT 92276,46482,46483,1, NULL,0,NULL,1 UNION ALL 
        SELECT 92277,46483,46482,2, NULL,0,NULL,1 UNION ALL 
        SELECT 92278,46483,46476,3, NULL,0,NULL,1 UNION ALL 
        SELECT 92279,46483,46484,1, NULL,0,NULL,1 UNION ALL 
        SELECT 238465,46483,119409,5, NULL,0,NULL,1 UNION ALL 
        SELECT 92280,46484,46483,1, NULL,0,NULL,1 UNION ALL 
        SELECT 238466,46484,119409,7, NULL,0,NULL,1 UNION ALL 
        SELECT 268654,119409,46483,8, NULL,0,NULL,1 UNION ALL 
        SELECT 268655,119409,46484,6, NULL,0,NULL,1 UNION ALL 
        SELECT 92281,46485,46486,2, NULL,0,NULL,1 UNION ALL 
        SELECT 92282,46485,46487,1, NULL,0,NULL,1 UNION ALL 
        SELECT 238467,46485,119410,5, NULL,0,NULL,1 UNION ALL 
        SELECT 92283,46486,46488,3, NULL,0,NULL,1 UNION ALL 
        SELECT 92284,46486,46489,4, NULL,0,NULL,1 UNION ALL 
        SELECT 92285,46486,46490,2, NULL,0,NULL,1 UNION ALL 
        SELECT 92286,46486,46485,1, NULL,0,NULL,1 UNION ALL 
        SELECT 92287,46487,46485,1, NULL,0,NULL,1 UNION ALL 
        SELECT 238468,46487,119410,7, NULL,0,NULL,1 UNION ALL 
        SELECT 92293,46488,46492,2, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92294,46488,46486,1, NULL,0,NULL,1 UNION ALL 
        SELECT 92295,46488,46489,3, 'Non-Compliance',0,NULL,1 UNION ALL 
        SELECT 92288,46489,46491,2, NULL,0,NULL,1 UNION ALL 
        SELECT 92289,46489,46492,1, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92290,46489,46488,1, 'Non-Compliance',0,NULL,1 UNION ALL 
        SELECT 92296,46490,46486,1, NULL,0,NULL,1 UNION ALL 
        SELECT 92291,46492,46489,2, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 92292,46492,46488,1, 'Compliance',0,NULL,1 UNION ALL 
        SELECT 268656,119410,46485,8, NULL,0,NULL,1 UNION ALL 
        SELECT 268657,119410,46487,6, NULL,0,NULL,1 UNION ALL 
        SELECT 438174,184179,184180,3, NULL,0,NULL,1 UNION ALL 
        SELECT 438175,184179,184183,4, NULL,0,NULL,1 UNION ALL 
        SELECT 438176,184179,184182,5, NULL,0,NULL,1 UNION ALL 
        SELECT 438177,184179,184181,6, NULL,0,NULL,1 UNION ALL 
        SELECT 411863,184179,184184,1, 'Non-Compliance',0,NULL,1 UNION ALL 
        SELECT 411864,184179,184178,2, NULL,0,NULL,1 UNION ALL 
        SELECT 438179,184180,184184,3, 'Non-Compliance',0,NULL,1 UNION ALL 
        SELECT 438180,184180,184179,4, NULL,0,NULL,1 UNION ALL 
        SELECT 438181,184180,184181,5, NULL,0,NULL,1 UNION ALL 
        SELECT 438182,184180,184178,6, NULL,0,NULL,1 UNION ALL 
        SELECT 411870,184180,184183,1, NULL,0,NULL,1 UNION ALL 
        SELECT 411871,184180,184182,2, NULL,0,NULL,1 UNION ALL 
        SELECT 438183,184182,184179,3, NULL,0,NULL,1 UNION ALL 
        SELECT 438184,184182,184184,4, 'Non-Compliance',0,NULL,1 UNION ALL 
        SELECT 438185,184182,184181,5, NULL,0,NULL,1 UNION ALL 
        SELECT 438186,184182,184178,6, NULL,0,NULL,1 UNION ALL 
        SELECT 411872,184182,184183,1, NULL,0,NULL,1 UNION ALL 
        SELECT 411873,184182,184180,2, NULL,0,NULL,1 UNION ALL 
        SELECT 438187,184183,184179,3, NULL,0,NULL,1 UNION ALL 
        SELECT 438188,184183,184184,4, 'Non-Compliance',0,NULL,1 UNION ALL 
        SELECT 438189,184183,184181,5, NULL,0,NULL,1 UNION ALL 
        SELECT 438190,184183,184180,6, NULL,0,NULL,1 UNION ALL 
        SELECT 411874,184183,184182,1, NULL,0,NULL,1 UNION ALL 
        SELECT 411875,184183,184178,2, NULL,0,NULL,1 UNION ALL 
        SELECT 438178,184184,184179,6, NULL,0,NULL,1 UNION ALL 
        SELECT 411865,184184,184183,1, NULL,0,NULL,1 UNION ALL 
        SELECT 411866,184184,184181,2, NULL,0,NULL,1 UNION ALL 
        SELECT 411867,184184,184178,3, NULL,0,NULL,1 UNION ALL 
        SELECT 411868,184184,184182,4, NULL,0,NULL,1 UNION ALL 
        SELECT 411869,184184,184180,5, NULL,0,NULL,1 UNION ALL 
        SELECT 621040,264971,264975,1, 'Non-Compliance',0,NULL,1 UNION ALL 
        SELECT 621042,264972,264973,3, NULL,0,NULL,1 UNION ALL 
        SELECT 621043,264972,264970,4, NULL,0,NULL,1 UNION ALL 
        SELECT 621044,264972,264974,5, NULL,0,NULL,1 UNION ALL 
        SELECT 621041,264975,264972,2, NULL,0,NULL,1 
 
        SET IDENTITY_INSERT TLifeCycleTransition OFF
 
        -- record execution so the script won't run again
        INSERT INTO TExecutedDataScript (ScriptGuid, Comments, TenantId, Timestamp) 
        VALUES (
         '94ECE56D-44B0-4C0E-855C-1398172A0C73', 
         'Initial load (125 total rows, file 1 of 1) for table TLifeCycleTransition',
         466, 
         getdate() )
 
   IF @starttrancount = 0
    COMMIT TRANSACTION
 
END TRY
BEGIN CATCH
    DECLARE @ErrorMessage varchar(1000), @ErrorSeverity INT, @ErrorState INT, @ErrorLine INT, @ErrorNumber INT
    SELECT @ErrorMessage = ERROR_MESSAGE() , @ErrorSeverity = ERROR_SEVERITY(), @ErrorState = ERROR_STATE(), @ErrorNumber = ERROR_NUMBER(), @ErrorLine = ERROR_LINE()
    RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState, @ErrorNumber, @ErrorLine)
END CATCH
 
 SET XACT_ABORT OFF
 SET NOCOUNT OFF
-----------------------------------------------------------------------------
-- #Rows Exported: 125
-- Created by AndyF's RefDataExtractor, Nov 12 2020  3:48PM
-----------------------------------------------------------------------------
